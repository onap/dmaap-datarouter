{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "2802b48e_7d02525f",
        "filename": "datarouter-prov-client/misc/drprov-client.sh",
        "patchSetId": 1
      },
      "lineNbr": 5,
      "author": {
        "id": 4405
      },
      "writtenOn": "2023-07-03T13:34:28Z",
      "side": 1,
      "message": "I guess the default user will be dcae but should this be more generic or configurable?",
      "range": {
        "startLine": 5,
        "startChar": 38,
        "endLine": 5,
        "endChar": 44
      },
      "revId": "9c80f4c72af78605c5f20ebc9d19c86545d57fec",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "81f78e7e_2be784ba",
        "filename": "datarouter-prov-client/misc/drprov-client.sh",
        "patchSetId": 1
      },
      "lineNbr": 5,
      "author": {
        "id": 511
      },
      "writtenOn": "2023-07-10T13:38:19Z",
      "side": 1,
      "message": "This header is used to set up a form of authorization (based on unauthenticated identities!) that isn\u0027t used in the ONAP context.  The bus controller, acting as a front end to the DR provisioning API, allowed specifying this value when creating a feed (the \"owner\" property in the values.yaml) but used a hard-coded default when creating a subscription.  \n\nThe \"authorization\" mechanism works something like this: the value in X-DMAAP-DR-ON-BEHALF-OF in the API request used to create a feed or subscription must be used in that header on subsequent requests to view or update the feed or subscription. (Exception: if you look up a feed by querying on its name and version, rather than its \"self\" URL, you can read the feed using any value in X-DMAAP-DR-ON-BEHALF-OF.) \n\nI\u0027m looking at 3 possible changes here:\n--- Use a fixed name, but a more generic one, like drprov-client or dmaap-init.\n--- Bring back the owner field in the YAML for the feed in values.yaml, and add it to\n    the YAML for subscriptions as well, and use that value for X-DMAAP-DR-ON-BEHALF-OF,\n    defaulting to a generic fixed name.\n--- Use the component\u0027s common name in this field.\n\nFrom the perspective of debugging DR provisioning issues, which typically involves querying the DR provisioning API, having a single fixed value for this field is the most convenient.",
      "parentUuid": "2802b48e_7d02525f",
      "range": {
        "startLine": 5,
        "startChar": 38,
        "endLine": 5,
        "endChar": 44
      },
      "revId": "9c80f4c72af78605c5f20ebc9d19c86545d57fec",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "aef1479b_d24053a3",
        "filename": "datarouter-prov-client/misc/drprov-client.sh",
        "patchSetId": 1
      },
      "lineNbr": 5,
      "author": {
        "id": 4405
      },
      "writtenOn": "2023-07-10T13:55:38Z",
      "side": 1,
      "message": "Yep, agreed. I think option 1 or 3 is fine here as long as the pub/sub apps can refernece it somehow. It still leads to some hardcoding for these particular feeds but for this use case it\u0027s prob fine.",
      "parentUuid": "81f78e7e_2be784ba",
      "range": {
        "startLine": 5,
        "startChar": 38,
        "endLine": 5,
        "endChar": 44
      },
      "revId": "9c80f4c72af78605c5f20ebc9d19c86545d57fec",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2840aaf5_30763b11",
        "filename": "datarouter-prov-client/misc/drprov-client.sh",
        "patchSetId": 1
      },
      "lineNbr": 5,
      "author": {
        "id": 511
      },
      "writtenOn": "2023-07-13T13:57:41Z",
      "side": 1,
      "message": "I\u0027ve gone for the first option, a fixed generic name.",
      "parentUuid": "aef1479b_d24053a3",
      "range": {
        "startLine": 5,
        "startChar": 38,
        "endLine": 5,
        "endChar": 44
      },
      "revId": "9c80f4c72af78605c5f20ebc9d19c86545d57fec",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "5eea4eba_edfec7b1",
        "filename": "datarouter-prov-client/misc/drprov-client.sh",
        "patchSetId": 1
      },
      "lineNbr": 237,
      "author": {
        "id": 4405
      },
      "writtenOn": "2023-07-03T13:34:28Z",
      "side": 1,
      "message": "Do we need to provision publishers also?",
      "range": {
        "startLine": 237,
        "startChar": 18,
        "endLine": 237,
        "endChar": 21
      },
      "revId": "9c80f4c72af78605c5f20ebc9d19c86545d57fec",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ecfcad4b_daf517a7",
        "filename": "datarouter-prov-client/misc/drprov-client.sh",
        "patchSetId": 1
      },
      "lineNbr": 237,
      "author": {
        "id": 511
      },
      "writtenOn": "2023-07-10T13:38:19Z",
      "side": 1,
      "message": "DR does not have a separate notion of feed and publisher.  A feed has a list of associated \"endpoints\" (username/password pairs, created by the client, not the DR provisioning system).  The bus controller simulated the distinction between feeds and publishers by creating a feed with a dummy endpoint, and then created publishers by updating the feed with a new endpoint.  I did not want to add this complexity to the drprov-client script.   (After you made your comment, but before I read it, I added a(n incomplete) README that includes a discussion of this and its implications.",
      "parentUuid": "5eea4eba_edfec7b1",
      "range": {
        "startLine": 237,
        "startChar": 18,
        "endLine": 237,
        "endChar": 21
      },
      "revId": "9c80f4c72af78605c5f20ebc9d19c86545d57fec",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "bbaa6d23_dea64605",
        "filename": "datarouter-prov-client/misc/drprov-client.sh",
        "patchSetId": 1
      },
      "lineNbr": 237,
      "author": {
        "id": 4405
      },
      "writtenOn": "2023-07-10T13:55:38Z",
      "side": 1,
      "message": "Of course, I\u0027m so long away from it I had forgotten about the endpoints mech",
      "parentUuid": "ecfcad4b_daf517a7",
      "range": {
        "startLine": 237,
        "startChar": 18,
        "endLine": 237,
        "endChar": 21
      },
      "revId": "9c80f4c72af78605c5f20ebc9d19c86545d57fec",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "13f38389_a6866c12",
        "filename": "datarouter-prov-client/misc/drprov-client.sh",
        "patchSetId": 1
      },
      "lineNbr": 237,
      "author": {
        "id": 511
      },
      "writtenOn": "2023-07-13T13:57:41Z",
      "side": 1,
      "message": "Documented in the README.",
      "parentUuid": "bbaa6d23_dea64605",
      "range": {
        "startLine": 237,
        "startChar": 18,
        "endLine": 237,
        "endChar": 21
      },
      "revId": "9c80f4c72af78605c5f20ebc9d19c86545d57fec",
      "serverId": "14b4e41f-c4e3-4fb9-9955-6a9b5656895a"
    }
  ]
}